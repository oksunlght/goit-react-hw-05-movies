{"version":3,"file":"static/js/6.ed0c9070.chunk.js","mappings":"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","sources":["pages/Movies.styled.jsx","pages/Movies.jsx","utils/fetch-api.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const SearchInput = styled.input`\n  margin-right: 20px;\n\n  width: 250px;\n\n  padding: 8px 15px;\n\n  &:hover,\n  &:focus {\n    border: 2px solid orangered;\n  }\n`;\n\nexport const Form = styled.form`\n  margin-left: 20px;\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const Button = styled.button`\n  display: block;\n  border: none;\n  outline: none;\n  width: 100px;\n  height: 30px;\n\n  border-radius: 5px;\n\n  font-size: 14px;\n\n  &:hover,\n  &:focus {\n    color: orangered;\n  }\n`;\n\nexport const List = styled.ul`\n  margin-left: 20px;\n`;\n\nexport const StyledLink = styled(Link)`\n  color: black;\n  text-decoration: none;\n\n  &:hover,\n  &:focus {\n    color: orangered;\n  }\n`;\n\nexport const Item = styled.li`\n  &:not(:last-child) {\n    margin-bottom: 8px;\n  }\n  &:hover,\n  &:focus {\n    color: orangered;\n  }\n`;\n\nexport const Marker = styled.span`\n  margin-right: 3px;\n`;\n\nexport const Loader = styled.div`\n  margin-left: 20px;\n  margin-top: 50px;\n`;\n","import { useSearchParams, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { fetchMoviesOnSearch } from '../utils/fetch-api';\nimport { ThreeCircles } from 'react-loader-spinner';\nimport {\n  SearchInput,\n  Form,\n  Button,\n  List,\n  StyledLink,\n  Item,\n  Marker,\n  Loader,\n} from './Movies.styled';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const query = searchParams.get('query') ?? '';\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    fetchMoviesOnSearch(query)\n      .then(({ results }) => {\n        setFoundMovies(results);\n        setIsLoading(false);\n      })\n      .catch(error => console.log(error));\n  }, [query]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const queryValue = e.currentTarget.elements.query.value;\n    const queryString = queryValue !== '' ? { query: queryValue } : {};\n    setSearchParams(queryString);\n    e.currentTarget.reset();\n  };\n\n  return (\n    <>\n      <Form onSubmit={onSubmit}>\n        <SearchInput type=\"text\" autoComplete=\"off\" name=\"query\" />\n        <Button type=\"submit\">Search</Button>\n      </Form>\n      <>\n        {!isLoading ? (\n          <List>\n            {foundMovies &&\n              foundMovies.map(({ id, original_title }) => {\n                return (\n                  <Item key={id}>\n                    <Marker>&#8226;</Marker>\n                    <StyledLink to={`/movies/${id}`} state={{ from: location }}>\n                      {original_title}\n                    </StyledLink>\n                  </Item>\n                );\n              })}\n          </List>\n        ) : (\n          <Loader>\n            <ThreeCircles\n              height=\"100\"\n              width=\"100\"\n              color=\"orangered\"\n              visible={true}\n            />\n          </Loader>\n        )}\n      </>\n    </>\n  );\n};\n\nexport default Movies;\n","const API_KEY = '59106e174e5800a0537739a6d2a5791b';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst params = new URLSearchParams({\n  api_key: API_KEY,\n});\n\nexport const fetchMoviesList = () => {\n  const url = `${BASE_URL}/trending/movie/day?${params}`;\n  return fetch(url)\n    .then(r => r.json())\n    .then(res => res.results)\n    .catch(error => console.log(error));\n};\n\nexport const fetchMovieDetails = id => {\n  const url = `${BASE_URL}/movie/${id}?${params}`;\n\n  return fetch(url)\n    .then(r => r.json())\n    .then(res => res)\n    .catch(error => console.log(error));\n};\n\nexport const fetchCast = id => {\n  const url = `${BASE_URL}/movie/${id}/credits?${params}`;\n\n  return fetch(url)\n    .then(r => r.json())\n    .then(res => res)\n    .catch(error => console.log(error));\n};\n\nexport const fetchReviews = id => {\n  const url = `${BASE_URL}/movie/${id}/reviews?${params}`;\n\n  return fetch(url)\n    .then(r => r.json())\n    .then(res => res)\n    .catch(error => console.log(error));\n};\n\nexport const fetchMoviesOnSearch = query => {\n  const url = `${BASE_URL}/search/movie?query=${query}&${params}`;\n\n  return fetch(url)\n    .then(r => r.json())\n    .then(res => res)\n    .catch(error => console.log(error));\n};\n\nexport const setImageURL = path => {\n  const url = `https://image.tmdb.org/t/p/w500/${path}`;\n  return url;\n};\n"],"names":["SearchInput","styled","Form","Button","List","StyledLink","Link","Item","Marker","Loader","useSearchParams","searchParams","setSearchParams","useState","foundMovies","setFoundMovies","isLoading","setIsLoading","query","get","location","useLocation","useEffect","fetchMoviesOnSearch","then","results","catch","error","console","log","onSubmit","e","preventDefault","queryValue","currentTarget","elements","value","reset","type","autoComplete","name","height","width","color","visible","map","id","original_title","to","state","from","BASE_URL","params","URLSearchParams","api_key","fetchMoviesList","url","fetch","r","json","res","fetchMovieDetails","fetchCast","fetchReviews","setImageURL","path"],"sourceRoot":""}